<!--ユーザーがサインインしている場合のみ表示-->
<% if user_signed_in? %>
  <% if post.favorited_by?(current_user) %>
    <!--一致するレコードが存在する＝すでにいいね済みの場合はdestroyアクションへ-->
    <%= link_to public_post_favorites_path(post), method: :delete, remote: true do %>
      <i class="fas fa-heart" aria-hidden="true" style="color: red;"></i>
      <%= post.favorites.count %> いいね
    <% end %>
  <% else %>
    <!--一致するレコードが存在しない＝まだいいねしていない場合はcreateアクションへ-->
    <%= link_to public_post_favorites_path(post), method: :post, remote: true do %>
      <i class="fas fa-heart" aria-hidden="true"></i>
      <%= post.favorites.count %> いいね
    <% end %>
  <% end %>
<% end %>